/* ========================================
   VAULT BREAKER - CRAZY GAMING THEME
   ======================================== */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary: #1c46ff;
    --secondary: #ff00ff;
    --accent: #00ffff;
    --warning: #ffaa00;
    --danger: #ff3366;
    --dark: #0a0a0f;
    --darker: #05050a;
    --light: #ffffff;
    --gold: #ffd700;
    --silver: #c0c0c0;
    --bronze: #cd7f32;
}

body {
    font-family: 'Orbitron', sans-serif;
    background: var(--dark);
    color: var(--light);
    min-height: 100vh;
    width: 100%;
    overflow-x: hidden;
    overflow-y: auto;
    position: relative;
    margin: 0;
    padding: 0;
}

/* ========================================
   CONNECTION STATUS - HIDDEN
   ======================================== */
.connection-status {
    display: none !important;
}

.connection-status.online {
    display: none !important;
}

.connection-status.offline {
    display: none !important;
}

.status-dot {
    display: none !important;
}

.status-dot.online {
    display: none !important;
}

.status-dot.offline {
    background: var(--danger);
}

@keyframes pulse-dot {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(1.2); }
}

/* ========================================
   PLAYER STATS BANNER
   ======================================== */
.player-stats-banner {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: clamp(15px, 3vw, 30px);
    margin-bottom: clamp(15px, 2vh, 20px);
    flex-wrap: wrap;
    width: 100%;
}

.stat-box {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: clamp(12px, 2vw, 15px) clamp(18px, 3vw, 25px);
    background: rgba(28, 70, 255, 0.1);
    border: 1px solid var(--primary);
    min-width: clamp(100px, 15vw, 120px);
}

.stat-box .stat-icon {
    font-size: clamp(1.2rem, 2vw, 1.5rem);
    margin-bottom: 5px;
}

.stat-box .stat-num {
    font-size: clamp(1.4rem, 2.5vw, 1.8rem);
    font-weight: 700;
    color: var(--primary);
    text-shadow: 0 0 10px var(--primary);
}

.stat-box .stat-text {
    font-size: clamp(0.5rem, 0.8vw, 0.6rem);
    color: var(--accent);
    letter-spacing: 1px;
    margin-top: 5px;
}

/* ========================================
   PARTICLE BACKGROUND
   ======================================== */
#particles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
    overflow: hidden;
}

.particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: var(--primary);
    border-radius: 50%;
    box-shadow: 0 0 10px var(--primary), 0 0 20px var(--primary);
    animation: float-particle 15s infinite linear;
}

@keyframes float-particle {
    0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        transform: translateY(-100vh) rotate(720deg);
        opacity: 0;
    }
}

/* ========================================
   GLITCH OVERLAY
   ======================================== */
.glitch-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.1) 0px,
        rgba(0, 0, 0, 0.1) 1px,
        transparent 1px,
        transparent 2px
    );
    pointer-events: none;
    z-index: 1000;
    animation: scanlines 0.1s infinite;
}

@keyframes scanlines {
    0% { background-position: 0 0; }
    100% { background-position: 0 4px; }
}

/* ========================================
   SCREENS
   ======================================== */
.screen {
    display: none;
    min-height: 100vh;
    width: 100%;
    position: relative;
    z-index: 1;
}

.screen.active {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    animation: fadeIn 0.5s ease;
}

/* Screen Wrapper - Centers Everything on All Screens */
.screen-wrapper {
    width: 100%;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: clamp(12px, 3vw, 40px);
    box-sizing: border-box;
}

/* Screen Container - Responsive Max Width */
.screen-container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: clamp(16px, 3vw, 40px);
    box-sizing: border-box;
}

@keyframes fadeIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
}

.hidden {
    display: none !important;
    opacity: 0 !important;
    visibility: hidden !important;
}

/* ========================================
   START SCREEN
   ======================================== */
#start-screen.active {
    display: flex;
    padding: 0;
}

.title-container {
    text-align: center;
    margin-bottom: clamp(20px, 3vh, 30px);
    width: 100%;
}

.glitch-text {
    font-family: 'Press Start 2P', cursive;
    font-size: clamp(2rem, 8vw, 5rem);
    color: var(--primary);
    text-shadow: 
        0 0 10px var(--primary),
        0 0 20px var(--primary),
        0 0 40px var(--primary),
        0 0 80px var(--primary);
    position: relative;
    animation: glitch 2s infinite;
}

.glitch-text::before,
.glitch-text::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.glitch-text::before {
    color: var(--secondary);
    animation: glitch-1 0.5s infinite;
    clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
}

.glitch-text::after {
    color: var(--accent);
    animation: glitch-2 0.5s infinite;
    clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
}

@keyframes glitch {
    0%, 100% { text-shadow: 0 0 10px var(--primary), 0 0 20px var(--primary); }
    50% { text-shadow: 0 0 20px var(--secondary), 0 0 40px var(--secondary); }
}

@keyframes glitch-1 {
    0%, 100% { transform: translate(0); }
    20% { transform: translate(-3px, 3px); }
    40% { transform: translate(3px, -3px); }
    60% { transform: translate(-3px, -3px); }
    80% { transform: translate(3px, 3px); }
}

@keyframes glitch-2 {
    0%, 100% { transform: translate(0); }
    20% { transform: translate(3px, -3px); }
    40% { transform: translate(-3px, 3px); }
    60% { transform: translate(3px, 3px); }
    80% { transform: translate(-3px, -3px); }
}

.subtitle {
    font-size: clamp(0.8rem, 2vw, 1.2rem);
    color: var(--accent);
    margin-top: clamp(15px, 2vh, 20px);
    letter-spacing: clamp(1px, 0.5vw, 3px);
    animation: pulse-glow 2s infinite;
}

@keyframes pulse-glow {
    0%, 100% { 
        text-shadow: 0 0 5px var(--accent);
        opacity: 0.8;
    }
    50% { 
        text-shadow: 0 0 20px var(--accent), 0 0 40px var(--accent);
        opacity: 1;
    }
}

.start-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: clamp(20px, 3vh, 30px);
    max-width: 500px;
    width: 100%;
    margin: 0 auto;
}

.player-input-container {
    width: 100%;
    text-align: center;
    max-width: 100%;
    box-sizing: border-box;
}

.player-input-container label {
    display: block;
    color: var(--accent);
    margin-bottom: clamp(8px, 1.5vh, 10px);
    font-size: clamp(0.7rem, 1.2vw, 0.9rem);
    letter-spacing: clamp(1px, 0.3vw, 2px);
}

.player-input-container input {
    width: 100%;
    max-width: 100%;
    padding: clamp(12px, 2vw, 15px) clamp(16px, 2.5vw, 20px);
    font-family: 'Orbitron', sans-serif;
    font-size: clamp(1rem, 1.5vw, 1.2rem);
    text-align: center;
    background: rgba(0, 255, 136, 0.1);
    border: 2px solid var(--primary);
    color: var(--primary);
    outline: none;
    text-transform: uppercase;
    letter-spacing: clamp(1px, 0.4vw, 3px);
    transition: all 0.3s ease;
    box-sizing: border-box;
}

.player-input-container input:focus {
    background: rgba(0, 255, 136, 0.2);
    box-shadow: 0 0 20px var(--primary), inset 0 0 20px rgba(0, 255, 136, 0.1);
}

.player-input-container input::placeholder {
    color: rgba(0, 255, 136, 0.5);
}

/* Email Validation Error */
.email-error {
    color: #ff3366;
    font-size: 0.8rem;
    margin-top: 8px;
    padding: 8px 12px;
    background: rgba(255, 51, 102, 0.15);
    border: 1px solid #ff3366;
    border-radius: 8px;
    opacity: 0;
    transform: translateY(-10px);
    transition: all 0.3s ease;
    text-align: center;
}

.email-error.show {
    opacity: 1;
    transform: translateY(0);
}

/* Input shake animation */
.player-input-container input.shake {
    animation: shake 0.5s ease-in-out;
    border-color: #ff3366 !important;
    box-shadow: 0 0 20px rgba(255, 51, 102, 0.5) !important;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
    20%, 40%, 60%, 80% { transform: translateX(5px); }
}

/* Valid email indicator */
.player-input-container input:valid:not(:placeholder-shown)[type="email"] {
    border-color: var(--success);
    box-shadow: 0 0 15px rgba(0, 255, 136, 0.4);
}

.rules-box {
    background: linear-gradient(135deg, rgba(0, 255, 136, 0.1), rgba(255, 0, 255, 0.1));
    border: 1px solid var(--primary);
    padding: clamp(16px, 3vw, 25px);
    width: 100%;
    position: relative;
    overflow: hidden;
    box-sizing: border-box;
}

.rules-box::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        45deg,
        transparent 40%,
        rgba(0, 255, 136, 0.1) 50%,
        transparent 60%
    );
    animation: shine 3s infinite;
}

@keyframes shine {
    0% { transform: translateX(-100%) rotate(45deg); }
    100% { transform: translateX(100%) rotate(45deg); }
}

.rules-box h3 {
    text-align: center;
    color: var(--warning);
    margin-bottom: clamp(12px, 2vh, 15px);
    font-size: clamp(0.8rem, 1.5vw, 1rem);
}

.rules-box ul {
    list-style: none;
}

.rules-box li {
    padding: clamp(6px, 1vh, 8px) 0;
    font-size: clamp(0.7rem, 1.2vw, 0.85rem);
    color: var(--light);
    opacity: 0.9;
    border-bottom: 1px solid rgba(0, 255, 136, 0.2);
}

.rules-box li:last-child {
    border-bottom: none;
}

/* ========================================
   CYBER BUTTON
   ======================================== */
.cyber-btn {
    position: relative;
    padding: clamp(14px, 2vw, 20px) clamp(30px, 5vw, 50px);
    font-family: 'Orbitron', sans-serif;
    font-size: clamp(0.9rem, 1.5vw, 1.2rem);
    font-weight: 700;
    color: var(--dark);
    background: var(--primary);
    border: none;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: clamp(1px, 0.3vw, 3px);
    overflow: hidden;
    transition: all 0.3s ease;
    clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
}

.cyber-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    transition: left 0.5s ease;
}

.cyber-btn:hover::before {
    left: 100%;
}

.cyber-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 0 30px var(--primary), 0 0 60px var(--primary);
}

.cyber-btn:active {
    transform: scale(0.98);
}

.cyber-btn span {
    position: relative;
    z-index: 1;
}

.skip-btn {
    background: var(--warning);
    padding: 15px 30px;
    font-size: 1rem;
}

.skip-btn:hover {
    box-shadow: 0 0 30px var(--warning);
}

/* ========================================
   LEADERBOARD PREVIEW
   ======================================== */
.leaderboard-preview {
    margin-top: clamp(25px, 4vh, 40px);
    text-align: center;
    width: 100%;
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
}

.leaderboard-preview h3 {
    color: var(--gold);
    margin-bottom: 15px;
    font-size: 1rem;
}

#preview-leaderboard {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--gold);
    padding: 15px;
    max-height: 200px;
    overflow-y: auto;
}

.leaderboard-entry {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    margin: 5px 0;
    background: linear-gradient(90deg, rgba(255, 215, 0, 0.1), transparent);
    border-left: 3px solid var(--gold);
    animation: slideIn 0.3s ease;
}

.leaderboard-entry:nth-child(1) {
    background: linear-gradient(90deg, rgba(255, 215, 0, 0.3), transparent);
    border-left-color: var(--gold);
}

.leaderboard-entry:nth-child(2) {
    background: linear-gradient(90deg, rgba(192, 192, 192, 0.2), transparent);
    border-left-color: var(--silver);
}

.leaderboard-entry:nth-child(3) {
    background: linear-gradient(90deg, rgba(205, 127, 50, 0.2), transparent);
    border-left-color: var(--bronze);
}

@keyframes slideIn {
    from { 
        opacity: 0; 
        transform: translateX(-20px); 
    }
    to { 
        opacity: 1; 
        transform: translateX(0); 
    }
}

.leaderboard-rank {
    font-weight: 700;
    color: var(--gold);
    min-width: 40px;
}

.leaderboard-name {
    flex: 1;
    text-align: left;
    margin-left: 10px;
    color: var(--light);
    font-size: 0.9rem;
}

.leaderboard-score {
    color: var(--primary);
    font-weight: 700;
}

/* ========================================
   GAME SCREEN
   ======================================== */
#game-screen {
    padding: 0;
    overflow: hidden;
    width: 100%;
    min-height: 100vh;
    display: none;
    justify-content: center;
    align-items: center;
    position: relative;
}

#game-screen.active {
    display: flex;
}

/* Mobile Stats Panel - Hidden on desktop, visible on mobile/tablet */
.mobile-stats-panel {
    display: none;
}

/* Show mobile stats panel on screens below 768px */
@media (max-width: 767px) {
    .mobile-stats-panel {
        display: flex !important;
        flex-direction: row;
        justify-content: flex-end;
        align-items: center;
        gap: 10px;
        width: 100%;
        flex-shrink: 0;
    }
    
    .right-panel {
        display: none !important;
    }
}

/* Right Panel - Timer + Score (Fixed Position) */
.right-panel {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

/* Timer Box - Rectangular */
.timer-box {
    background: rgba(0, 0, 0, 0.95);
    border: 3px solid var(--primary);
    border-radius: 15px;
    padding: clamp(12px, 2vw, 20px) clamp(20px, 3vw, 30px);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    box-shadow: 
        0 0 30px rgba(28, 70, 255, 0.5),
        inset 0 0 20px rgba(0, 0, 0, 0.8);
    min-width: clamp(140px, 15vw, 180px);
}

.timer-box .timer-label-top {
    font-size: clamp(0.7rem, 1vw, 0.9rem);
    color: var(--accent);
    letter-spacing: 2px;
    font-weight: 700;
}

.timer-box .timer-display {
    font-size: clamp(1.5rem, 3vw, 2.5rem);
    font-weight: 900;
    color: var(--primary);
    font-family: 'Press Start 2P', cursive;
    text-shadow: 
        0 0 15px var(--primary),
        0 0 30px var(--primary);
    animation: timer-pulse 1s infinite;
}

.timer-box .timer-display.warning {
    color: var(--warning);
    text-shadow: 0 0 15px var(--warning), 0 0 30px var(--warning);
}

.timer-box .timer-display.danger {
    color: var(--danger);
    text-shadow: 0 0 15px var(--danger), 0 0 30px var(--danger);
    animation: timer-danger 0.25s infinite;
}

.timer-progress-bar {
    width: 100%;
    height: 10px;
    background: rgba(28, 70, 255, 0.2);
    border: 1px solid var(--primary);
    border-radius: 5px;
    overflow: hidden;
    margin-top: 8px;
}

.timer-progress-bar .timer-progress-fill {
    height: 100%;
    width: 100%;
    background: linear-gradient(90deg, #00ff88, #00d4ff, var(--primary));
    transition: width 1s linear;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
}

/* Timer progress warning state - yellow/orange gradient */
.timer-progress-bar .timer-progress-fill.warning {
    background: linear-gradient(90deg, #ff6b00, #ffb300, #ffd700);
    box-shadow: 0 0 10px rgba(255, 183, 0, 0.7);
}

/* Timer progress danger state - red gradient with pulse */
.timer-progress-bar .timer-progress-fill.danger {
    background: linear-gradient(90deg, #ff0040, #ff4444, #ff6b6b);
    box-shadow: 0 0 15px rgba(255, 0, 64, 0.8);
    animation: danger-pulse 0.5s infinite;
}

@keyframes danger-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

/* Score Box - Same style as Timer */
.score-box {
    background: rgba(0, 0, 0, 0.95);
    border: 3px solid var(--gold);
    border-radius: 15px;
    padding: clamp(12px, 2vw, 20px) clamp(20px, 3vw, 30px);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    box-shadow: 
        0 0 30px rgba(255, 215, 0, 0.4),
        inset 0 0 20px rgba(0, 0, 0, 0.8);
    min-width: clamp(140px, 15vw, 180px);
}

.score-box .score-label {
    font-size: clamp(0.6rem, 0.9vw, 0.8rem);
    color: var(--accent);
    letter-spacing: 2px;
    font-weight: 700;
}

.score-box .player-name-display {
    font-size: clamp(0.9rem, 1.2vw, 1.1rem);
    font-weight: 700;
    color: var(--light);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.score-box .score-divider {
    width: 80%;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--gold), transparent);
    margin: 4px 0;
}

.score-box .score-display {
    font-size: clamp(1.3rem, 2.5vw, 2rem);
    font-weight: 900;
    color: var(--gold);
    font-family: 'Press Start 2P', cursive;
    text-shadow: 
        0 0 15px var(--gold),
        0 0 30px var(--gold);
}

/* Score Progress Bar */
.score-progress-bar {
    width: 100%;
    height: 8px;
    background: rgba(255, 215, 0, 0.2);
    border: 1px solid var(--gold);
    border-radius: 4px;
    overflow: hidden;
    margin-top: 8px;
}

.score-progress-bar .score-progress-fill {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, var(--gold), #ffeb3b, var(--gold));
    transition: width 0.3s ease-out;
    border-radius: 4px;
    box-shadow: 0 0 10px var(--gold);
}

/* Hide timer-corner (old) */
.timer-corner {
    display: none;
}

/* Game Wrapper - Centers Everything */
.game-wrapper {
    width: 100%;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: clamp(12px, 2vw, 20px);
    padding-top: clamp(20px, 3vh, 40px);
    padding-right: clamp(180px, 20vw, 220px);
    box-sizing: border-box;
}

/* Game Container - Responsive Max Width */
.game-container {
    width: 100%;
    max-width: 900px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: clamp(15px, 2vh, 25px);
    box-sizing: border-box;
}

/* Vault Journey Bar - 5 Vaults Progress */
.vault-journey-bar {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    padding: clamp(15px, 2vw, 25px) clamp(20px, 3vw, 40px);
    background: rgba(0, 0, 0, 0.9);
    border: 2px solid var(--primary);
    border-radius: 15px;
    box-shadow: 0 5px 30px rgba(28, 70, 255, 0.4);
    gap: clamp(8px, 1.5vw, 15px);
    flex-wrap: wrap;
}

.vault-journey-bar .vault-indicator {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: clamp(10px, 1.5vw, 15px);
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-radius: 12px;
    transition: all 0.3s ease;
    min-width: clamp(60px, 10vw, 90px);
}

.vault-journey-bar .vault-indicator.current {
    border-color: var(--primary);
    background: rgba(28, 70, 255, 0.2);
    transform: scale(1.1);
    box-shadow: 0 0 25px var(--primary);
    animation: current-vault 1s infinite;
}

.vault-journey-bar .vault-indicator.unlocked {
    border-color: var(--primary);
    background: rgba(0, 255, 136, 0.2);
}

.vault-journey-bar .vault-indicator.unlocked .vault-icon {
    animation: unlock-spin 0.5s ease;
}

/* Failed vault - Red */
.vault-journey-bar .vault-indicator.failed {
    border-color: var(--danger) !important;
    background: rgba(255, 51, 102, 0.3) !important;
    box-shadow: 0 0 15px rgba(255, 51, 102, 0.5);
}

/* Success vault - Green */
.vault-journey-bar .vault-indicator.success {
    border-color: var(--success) !important;
    background: rgba(0, 255, 136, 0.3) !important;
    box-shadow: 0 0 15px rgba(0, 255, 136, 0.5);
}

/* Skipped vault - Yellow/Orange */
.vault-journey-bar .vault-indicator.skipped {
    border-color: var(--warning) !important;
    background: rgba(255, 170, 0, 0.3) !important;
    box-shadow: 0 0 15px rgba(255, 170, 0, 0.5);
}

.vault-journey-bar .vault-icon {
    font-size: clamp(1.2rem, 2vw, 1.8rem);
    margin-bottom: 5px;
}

.vault-journey-bar .vault-indicator span {
    font-size: clamp(0.5rem, 0.8vw, 0.7rem);
    color: var(--accent);
    letter-spacing: 1px;
    font-weight: 600;
}

.vault-journey-bar .progress-line {
    width: clamp(20px, 4vw, 40px);
    height: 3px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 2px;
}

.vault-journey-bar .progress-line.active {
    background: var(--primary);
    box-shadow: 0 0 10px var(--primary);
}

/* Player & Score Bar - Hidden (moved to right panel) */
.player-score-bar {
    display: none;
}

.player-score-bar .hud-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 3px;
}

.player-score-bar .hud-label {
    font-size: clamp(0.5rem, 0.8vw, 0.7rem);
    color: var(--accent);
    letter-spacing: 2px;
}

.player-score-bar .hud-value {
    font-size: clamp(1rem, 1.5vw, 1.4rem);
    font-weight: 700;
    color: var(--light);
}

.player-score-bar .hud-value.score {
    color: var(--gold);
    text-shadow: 0 0 10px var(--gold);
}

/* Vault Center Area */
.vault-center-area {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    flex: 1;
    padding: clamp(10px, 2vw, 20px);
}

/* Hide old elements */
.game-top-bar {
    display: none;
}

.game-main-layout {
    display: none;
}

.timer-sidebar-right {
    display: none;
}

.hud-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
    min-width: clamp(80px, 10vw, 120px);
}

.hud-label {
    font-size: clamp(0.6rem, 1vw, 0.8rem);
    color: var(--accent);
    letter-spacing: 2px;
}

.hud-value {
    font-size: clamp(1.2rem, 2vw, 1.8rem);
    font-weight: 700;
}

.timer {
    color: var(--primary);
    font-family: 'Press Start 2P', cursive;
    animation: timer-pulse 1s infinite;
}

.timer.warning {
    color: var(--warning);
    animation: timer-warning 0.5s infinite;
}

.timer.danger {
    color: var(--danger);
    animation: timer-danger 0.25s infinite;
}

@keyframes timer-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
}

@keyframes timer-warning {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.6; transform: scale(1.1); }
}

@keyframes timer-danger {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(1.15); }
}

.timer-container {
    flex: 1;
    max-width: 300px;
}

.timer-bar {
    width: 100%;
    height: 8px;
    background: rgba(0, 255, 136, 0.2);
    border: 1px solid var(--primary);
    margin-top: 5px;
    overflow: hidden;
}

.timer-fill {
    height: 100%;
    width: 100%;
    background: linear-gradient(90deg, var(--primary), var(--accent));
    transition: width 1s linear;
    box-shadow: 0 0 10px var(--primary);
}

.timer-fill.warning {
    background: linear-gradient(90deg, var(--warning), var(--danger));
}

.score {
    color: var(--gold);
    text-shadow: 0 0 10px var(--gold);
}

/* ========================================
   VAULT PROGRESS
   ======================================== */
.vault-progress {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}
.vault-progress {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

.vault-indicator {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 50px;
    height: 50px;
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-radius: 10px;
    transition: all 0.3s ease;
}

.vault-indicator.current {
    border-color: var(--primary);
    background: rgba(0, 255, 136, 0.2);
    transform: scale(1.1);
    box-shadow: 0 0 20px var(--primary);
    animation: current-vault 1s infinite;
}

@keyframes current-vault {
    0%, 100% { box-shadow: 0 0 20px var(--primary); }
    50% { box-shadow: 0 0 40px var(--primary), 0 0 60px var(--accent); }
}

.vault-indicator.unlocked {
    border-color: var(--primary);
    background: rgba(0, 255, 136, 0.3);
}

.vault-indicator.unlocked .vault-icon {
    animation: unlock-spin 0.5s ease;
}

@keyframes unlock-spin {
    0% { transform: rotateY(0deg); }
    100% { transform: rotateY(360deg); }
}

.vault-indicator.failed {
    border-color: var(--danger);
    background: rgba(255, 51, 102, 0.2);
}

.vault-icon {
    font-size: 1.2rem;
}

.vault-indicator span {
    font-size: 0.6rem;
    color: var(--accent);
}

.progress-line {
    width: 20px;
    height: 3px;
    background: rgba(255, 255, 255, 0.2);
}

.progress-line.active {
    background: var(--primary);
    box-shadow: 0 0 10px var(--primary);
}

/* Game Main Layout - Timer Beside Vault */
.game-main-layout {
    display: flex;
    gap: clamp(20px, 3vw, 50px);
    align-items: center;
    justify-content: center;
    width: 100%;
    max-width: 100%;
    flex: 1;
    overflow: hidden;
    padding: clamp(10px, 2vw, 30px);
}

/* Timer Sidebar Right - Square Curved Shape */
.timer-sidebar-right {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.timer-square {
    width: clamp(200px, 25vw, 280px);
    height: clamp(200px, 25vw, 280px);
    background: rgba(0, 0, 0, 0.9);
    border: 4px solid var(--primary);
    border-radius: 30px;
    padding: clamp(15px, 2vw, 30px);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-evenly;
    box-shadow: 
        0 0 40px rgba(28, 70, 255, 0.6),
        inset 0 0 30px rgba(0, 0, 0, 0.8);
    position: relative;
    overflow: hidden;
    box-sizing: border-box;
}

.timer-square::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, var(--primary), var(--accent), var(--secondary), var(--primary));
    border-radius: 30px;
    z-index: -1;
    opacity: 0.3;
    animation: rotate-border 4s linear infinite;
}

@keyframes rotate-border {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.timer-label-top {
    font-size: clamp(0.9rem, 1.5vw, 1.2rem);
    color: var(--accent);
    letter-spacing: 3px;
    font-weight: 700;
    text-align: center;
    margin: 0;
    flex-shrink: 0;
}

.timer-display {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 900;
    color: var(--primary);
    font-family: 'Press Start 2P', cursive;
    text-shadow: 
        0 0 20px var(--primary),
        0 0 40px var(--primary),
        0 0 60px var(--primary);
    animation: timer-pulse 1s infinite;
    text-align: center;
    line-height: 1.2;
    margin: 0;
    flex-shrink: 0;
}

.timer-display.warning {
    color: var(--warning);
    text-shadow: 
        0 0 20px var(--warning),
        0 0 40px var(--warning);
    animation: timer-warning 0.5s infinite;
}

.timer-display.danger {
    color: var(--danger);
    text-shadow: 
        0 0 20px var(--danger),
        0 0 40px var(--danger);
    animation: timer-danger 0.25s infinite;
}

.timer-label-bottom {
    font-size: 0.85rem;
    color: var(--accent);
    letter-spacing: 2px;
    font-weight: 600;
    text-align: center;
    margin: 0;
    flex-shrink: 0;
}

.timer-progress-container {
    width: 100%;
    height: 25px;
    background: rgba(0, 255, 136, 0.2);
    border: 2px solid var(--primary);
    border-radius: 12px;
    overflow: hidden;
    position: relative;
    flex-shrink: 0;
}

.timer-progress-fill {
    height: 100%;
    width: 100%;
    background: linear-gradient(90deg, var(--primary), var(--accent));
    transition: width 1s linear;
    box-shadow: 0 0 20px var(--primary);
    border-radius: 8px;
}

.timer-progress-fill.warning {
    background: linear-gradient(90deg, var(--warning), var(--danger));
    box-shadow: 0 0 20px var(--warning);
}

.timer-progress-fill.danger {
    background: linear-gradient(90deg, var(--danger), #ff0000);
    box-shadow: 0 0 20px var(--danger);
}

/* Remove old timer sidebar styles */
.timer-sidebar {
    display: none;
}

.timer-vertical {
    display: none;
}

/* ========================================
   VAULT CONTAINER
   ======================================== */
.vault-container {
    position: relative;
    width: clamp(300px, 50vw, 600px);
    height: clamp(300px, 50vw, 600px);
    flex-shrink: 0;
    perspective: 1000px;
    border-radius: 30px;
    overflow: visible;
}

.vault-door {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #2a2a3a, #1a1a2a);
    border: 5px solid #444;
    border-radius: 30px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    transform-origin: left center;
    transition: transform 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    z-index: 5;
    box-shadow: 
        inset 0 0 50px rgba(0, 0, 0, 0.5),
        0 0 30px rgba(0, 0, 0, 0.8);
    overflow: hidden;
}

.vault-door.opening {
    transform: rotateY(-110deg);
}

.vault-door.open {
    transform: rotateY(-110deg);
    pointer-events: none;
}

.vault-door.success {
    transform: rotateY(-110deg);
    pointer-events: none;
    border-color: var(--primary);
    box-shadow: 0 0 50px rgba(28, 70, 255, 0.8);
}

.vault-door.success .vault-number {
    color: var(--primary);
    animation: success-pulse 0.5s ease infinite alternate;
}

@keyframes success-pulse {
    from { text-shadow: 0 0 10px var(--primary); }
    to { text-shadow: 0 0 30px var(--primary), 0 0 50px var(--primary); }
}

.vault-door::before {
    content: '';
    position: absolute;
    top: 10px;
    left: 10px;
    right: 10px;
    bottom: 10px;
    border: 2px solid rgba(255, 255, 255, 0.1);
    pointer-events: none;
}

.vault-number {
    position: absolute;
    top: 20px;
    font-family: 'Press Start 2P', cursive;
    font-size: 1.5rem;
    color: var(--primary);
    text-shadow: 0 0 10px var(--primary);
}

.vault-lock {
    position: relative;
    width: 150px;
    height: 150px;
}

.lock-circle {
    width: 100%;
    height: 100%;
    border: 8px solid #555;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #333, #222);
    position: relative;
    box-shadow: 
        inset 0 0 30px rgba(0, 0, 0, 0.8),
        0 0 20px rgba(0, 0, 0, 0.5);
}

.lock-inner {
    width: 60px;
    height: 60px;
    background: radial-gradient(circle, #444, #222);
    border-radius: 50%;
    border: 4px solid #666;
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8);
}

.lock-dial {
    position: absolute;
    width: 10px;
    height: 40px;
    background: var(--primary);
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    box-shadow: 0 0 10px var(--primary);
    animation: dial-spin 2s infinite linear;
}

@keyframes dial-spin {
    from { transform: translateX(-50%) rotate(0deg); transform-origin: center 55px; }
    to { transform: translateX(-50%) rotate(360deg); transform-origin: center 55px; }
}

.vault-door.opening .lock-dial {
    animation: none;
}

.vault-handle {
    position: absolute;
    right: 30px;
    top: 50%;
    transform: translateY(-50%);
    width: 30px;
    height: 80px;
    background: linear-gradient(90deg, #666, #888, #666);
    border-radius: 5px;
    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.5);
}

.vault-handle::before {
    content: '';
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 50px;
    height: 20px;
    background: linear-gradient(180deg, #888, #555);
    border-radius: 10px 10px 0 0;
}

/* ========================================
   VAULT CONTENT
   ======================================== */
.vault-content {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #0f0f1a, #1a1a2f);
    border: 3px solid var(--primary);
    border-radius: 30px;
    padding: 25px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 15px;
    opacity: 0;
    transition: opacity 0.5s ease 0.5s;
    box-shadow: 
        inset 0 0 50px rgba(28, 70, 255, 0.1),
        0 0 30px rgba(28, 70, 255, 0.3);
    overflow: hidden;
    box-sizing: border-box;
}

.vault-door.opening + .vault-content,
.vault-door.open + .vault-content,
.vault-content.visible {
    opacity: 1;
}

.question-container {
    text-align: center;
    width: 100%;
    max-height: 75%;
    overflow-y: auto;
    overflow-x: hidden;
    flex-shrink: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    padding: 5px;
}

.answer-section {
    width: 100%;
    max-width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    flex-shrink: 0;
}

.question-container h2 {
    font-size: clamp(0.9rem, 2vw, 1.2rem);
    color: var(--light);
    margin-bottom: 10px;
    line-height: 1.4;
}

.clue-box {
    background: rgba(255, 170, 0, 0.1);
    border: 1px solid var(--warning);
    padding: 15px;
    margin-top: 15px;
}

.clue-label {
    color: var(--warning);
    font-size: 0.8rem;
    font-weight: 700;
}

.clue-box p {
    color: var(--warning);
    margin-top: 5px;
    font-size: 0.95rem;
}

.answer-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
}

#answer-input {
    width: 100%;
    max-width: clamp(250px, 70%, 400px);
    padding: clamp(12px, 2vw, 15px) clamp(15px, 2.5vw, 20px);
    font-family: 'Orbitron', sans-serif;
    font-size: clamp(0.95rem, 1.5vw, 1.1rem);
    text-align: center;
    background: rgba(0, 255, 255, 0.1);
    border: 2px solid var(--accent);
    color: var(--light);
    outline: none;
    transition: all 0.3s ease;
    border-radius: 8px;
}

#answer-input:focus {
    background: rgba(0, 255, 255, 0.2);
    box-shadow: 0 0 20px var(--accent), inset 0 0 20px rgba(0, 255, 255, 0.1);
}

#answer-input::placeholder {
    color: rgba(0, 255, 255, 0.5);
}

.answer-buttons {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
    justify-content: center;
}

.submit-btn {
    padding: clamp(12px, 2vw, 15px) clamp(25px, 4vw, 40px);
    font-size: clamp(0.85rem, 1.2vw, 1rem);
}

/* ========================================
   RESULT POPUP
   ======================================== */
.result-popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 100;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}

.result-popup.show {
    opacity: 1;
    pointer-events: all;
}

.result-content {
    text-align: center;
    animation: popup-bounce 0.5s ease;
}

@keyframes popup-bounce {
    0% { transform: scale(0); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

.result-icon {
    font-size: 5rem;
    margin-bottom: 20px;
    animation: icon-pulse 0.5s infinite;
}

@keyframes icon-pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

.result-content h2 {
    font-size: 2rem;
    margin-bottom: 10px;
}

.result-content.success h2 {
    color: var(--primary);
    text-shadow: 0 0 20px var(--primary);
}

.result-content.failure h2 {
    color: var(--danger);
    text-shadow: 0 0 20px var(--danger);
}

#result-points {
    font-size: 1.5rem;
    color: var(--gold);
}

/* ========================================
   END SCREEN
   ======================================== */
#end-screen.active {
    display: flex;
    padding: 0;
}

.end-content {
    text-align: center;
    max-width: 600px;
    width: 100%;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.end-title {
    font-family: 'Press Start 2P', cursive;
    font-size: clamp(1.5rem, 5vw, 3rem);
    color: var(--primary);
    text-shadow: 0 0 20px var(--primary), 0 0 40px var(--primary);
    margin-bottom: 40px;
    animation: title-glow 2s infinite;
}

@keyframes title-glow {
    0%, 100% { 
        text-shadow: 0 0 20px var(--primary), 0 0 40px var(--primary);
    }
    50% { 
        text-shadow: 0 0 40px var(--primary), 0 0 80px var(--primary), 0 0 120px var(--accent);
    }
}

.final-stats {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 40px;
    flex-wrap: wrap;
}

.stat-card {
    background: rgba(0, 255, 136, 0.1);
    border: 2px solid var(--primary);
    padding: 20px 30px;
    min-width: 150px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    animation: stat-appear 0.5s ease backwards;
}

.stat-card:nth-child(1) { animation-delay: 0.2s; }
.stat-card:nth-child(2) { animation-delay: 0.4s; }
.stat-card:nth-child(3) { animation-delay: 0.6s; }

@keyframes stat-appear {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.stat-label {
    font-size: 0.7rem;
    color: var(--accent);
    letter-spacing: 2px;
}

.stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: var(--gold);
    text-shadow: 0 0 10px var(--gold);
}

.final-leaderboard {
    margin-bottom: 40px;
}

.final-leaderboard h2 {
    color: var(--gold);
    margin-bottom: 20px;
}

#final-leaderboard-list {
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid var(--gold);
    padding: 15px;
    max-height: 300px;
    overflow-y: auto;
}

/* ========================================
   LIVE LEADERBOARD SIDEBAR
   ======================================== */
.live-leaderboard {
    position: fixed;
    top: 20px;
    right: 20px;
    width: 280px;
    background: rgba(0, 0, 0, 0.95);
    border: 2px solid var(--secondary);
    padding: 15px;
    z-index: 50;
    display: none;
    max-height: 500px;
    overflow-y: auto;
    box-shadow: 0 0 30px rgba(255, 0, 255, 0.3);
}

.live-leaderboard.show {
    display: block;
    animation: slideInRight 0.5s ease;
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(100px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.leaderboard-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 10px;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--secondary);
}

.leaderboard-header h3 {
    font-size: 0.8rem;
    color: var(--secondary);
}

.live-indicator {
    width: 10px;
    height: 10px;
    background: var(--danger);
    border-radius: 50%;
    animation: live-blink 1s infinite;
}

@keyframes live-blink {
    0%, 100% { opacity: 1; box-shadow: 0 0 10px var(--danger); }
    50% { opacity: 0.3; box-shadow: none; }
}

.live-active-players {
    text-align: center;
    font-size: 0.75rem;
    color: var(--accent);
    padding: 8px;
    margin-bottom: 10px;
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid rgba(0, 255, 255, 0.3);
}

.live-active-players span {
    color: var(--primary);
    font-weight: 700;
    font-size: 1rem;
}

#live-leaderboard-list .leaderboard-entry {
    padding: 8px;
    font-size: 0.8rem;
}

.leaderboard-entry.current-player {
    background: linear-gradient(90deg, rgba(28, 70, 255, 0.4), transparent);
    border-left-color: var(--primary);
    animation: current-player-pulse 1s infinite;
}

.leaderboard-entry.is-playing {
    position: relative;
}

.leaderboard-entry.is-playing::after {
    content: '';
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    width: 6px;
    height: 6px;
    background: var(--primary);
    border-radius: 50%;
    animation: playing-indicator 1s infinite;
}

@keyframes playing-indicator {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

@keyframes current-player-pulse {
    0%, 100% { box-shadow: inset 0 0 10px rgba(28, 70, 255, 0.3); }
    50% { box-shadow: inset 0 0 20px rgba(28, 70, 255, 0.5); }
}

/* ========================================
   ANIMATIONS & EFFECTS
   ======================================== */
.shake {
    animation: shake 0.5s ease;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    20% { transform: translateX(-10px); }
    40% { transform: translateX(10px); }
    60% { transform: translateX(-10px); }
    80% { transform: translateX(10px); }
}

.score-pop {
    animation: score-pop 0.5s ease;
}

@keyframes score-pop {
    0% { transform: scale(1); }
    50% { transform: scale(1.5); color: var(--primary); }
    100% { transform: scale(1); }
}

/* ========================================
   SCROLLBAR
   ======================================== */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: var(--darker);
}

::-webkit-scrollbar-thumb {
    background: var(--primary);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--accent);
}

/* ========================================
   RESPONSIVE
   ======================================== */
@media (max-width: 768px) {
    .game-hud {
        flex-direction: column;
        gap: 15px;
    }
    
    .vault-container {
        width: 90vw;
        height: 90vw;
        max-width: 500px;
        max-height: 500px;
    }
    
    .vault-content {
        padding: 20px;
    }
    
    .question-container h2 {
        font-size: 0.95rem;
    }
    
    .live-leaderboard {
        width: 200px;
        right: 10px;
        top: auto;
        bottom: 10px;
        max-height: 250px;
    }
    
    .final-stats {
        flex-direction: column;
        align-items: center;
    }
    
    .stat-card {
        width: 100%;
        max-width: 200px;
    }
}

@media (max-width: 480px) {
    .glitch-text {
        font-size: 1.5rem;
    }
    
    .vault-number {
        font-size: 1rem;
    }
    
    .vault-lock {
        width: 100px;
        height: 100px;
    }
    
    .lock-inner {
        width: 40px;
        height: 40px;
    }
    
    .lock-dial {
        height: 25px;
        top: 15px;
    }
    
    @keyframes dial-spin {
        from { transform: translateX(-50%) rotate(0deg); transform-origin: center 35px; }
        to { transform: translateX(-50%) rotate(360deg); transform-origin: center 35px; }
    }
}

/* ========================================
   VAULT TYPE LABELS
   ======================================== */
.vault-type-label {
    font-size: 0.75rem;
    font-weight: 700;
    color: var(--primary);
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 8px;
    padding: 6px 15px;
    background: rgba(28, 70, 255, 0.1);
    border: 1px solid var(--primary);
    border-radius: 5px;
    display: inline-block;
    animation: pulse-glow 2s infinite;
}

@keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 10px rgba(28, 70, 255, 0.3); }
    50% { box-shadow: 0 0 25px rgba(28, 70, 255, 0.6); }
}

.question-text {
    font-size: 1.05rem;
    line-height: 1.4;
    margin: 10px 0;
    text-align: center;
}

/* ========================================
   DIAMOND MINE VAULT
   ======================================== */

/* Instructions Box */
.mine-instructions {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin: 10px 0;
    padding: 12px 15px;
    background: rgba(0, 0, 0, 0.4);
    border-radius: 12px;
    border: 2px solid rgba(28, 70, 255, 0.3);
}

.instruction-row {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 0.85rem;
    color: var(--light);
}

.instruction-row.danger {
    color: var(--danger);
}

.instruction-icon {
    font-size: 1.2rem;
}

.instruction-text {
    letter-spacing: 0.5px;
}

/* Diamond Mine Grid - Complete Border */
.diamond-mine-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 6px;
    justify-content: center;
    margin: 10px auto;
    padding: 8px;
    background: linear-gradient(135deg, rgba(10, 10, 30, 0.9), rgba(5, 5, 20, 0.95));
    border-radius: 18px;
    border: 4px solid var(--primary);
    box-shadow: 
        0 0 30px rgba(28, 70, 255, 0.4),
        inset 0 0 30px rgba(28, 70, 255, 0.1);
    position: relative;
    width: 290px;
    height: 290px;
    overflow: hidden;
}
.diamond-mine-grid::before {
    content: '';
    position: absolute;
    top: -1px;
    left: -1px;
    right: -1px;
    bottom: -1px;
    border: 1px solid rgba(0, 255, 255, 0.3);
    border-radius: 15px;
    pointer-events: none;
}

.mine-cell {
    width: 100%;
    height: 100%;
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    background: linear-gradient(145deg, #1a1a2e, #0f0f1a);
    border: 2px solid var(--primary);
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.mine-cell::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, transparent, rgba(28, 70, 255, 0.3), transparent);
    opacity: 0;
    transition: opacity 0.3s;
}

.mine-cell:hover:not(.revealed)::before {
    opacity: 1;
}

.mine-cell:hover:not(.revealed) {
    transform: scale(1.05);
    box-shadow: 0 0 30px rgba(28, 70, 255, 0.5);
    border-color: var(--accent);
}

.mine-cell .cell-content {
    font-size: 1.8rem;
    color: var(--accent);
    text-shadow: 0 0 15px var(--accent);
}

.mine-cell.revealed {
    cursor: default;
    animation: reveal-cell 0.5s ease forwards;
}

@keyframes reveal-cell {
    0% { transform: rotateY(0); }
    50% { transform: rotateY(90deg); }
    100% { transform: rotateY(0); }
}

/* Heart - Green color */
.mine-cell.heart {
    border-color: var(--success);
    background: linear-gradient(145deg, #1a2e1a, #0f1a0f);
    box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
}

.mine-cell.heart .cell-content {
    animation: heart-beat 0.6s ease;
}

@keyframes heart-beat {
    0%, 100% { transform: scale(1); }
    25% { transform: scale(1.3); }
    50% { transform: scale(1); }
    75% { transform: scale(1.2); }
}

/* Bomb - Red color */
.mine-cell.bomb {
    border-color: var(--danger);
    background: linear-gradient(145deg, #3e1a1a, #2a0f0f);
    box-shadow: 0 0 30px rgba(255, 51, 102, 0.6);
    animation: bomb-shake 0.5s ease;
}

@keyframes bomb-shake {
    0%, 100% { transform: translateX(0); }
    20% { transform: translateX(-10px) rotate(-5deg); }
    40% { transform: translateX(10px) rotate(5deg); }
    60% { transform: translateX(-10px) rotate(-5deg); }
    80% { transform: translateX(10px) rotate(5deg); }
}

.mine-status {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    text-align: center;
    font-size: 1rem;
    margin-top: 12px;
    padding: 10px 20px;
    background: linear-gradient(135deg, rgba(255, 107, 157, 0.15), rgba(255, 51, 102, 0.1));
    border-radius: 12px;
    border: 2px solid rgba(255, 107, 157, 0.5);
    box-shadow: 0 0 15px rgba(255, 107, 157, 0.2);
}

.hearts-label {
    font-size: 0.75rem;
    color: var(--accent);
    letter-spacing: 1px;
    text-transform: uppercase;
}

.hearts-count {
    font-family: 'Press Start 2P', cursive;
    font-size: 1rem;
    color: #ff6b9d;
    text-shadow: 0 0 10px rgba(255, 107, 157, 0.6);
}

/* ========================================
   EMOJI VAULT
   ======================================== */
.emoji-display {
    font-size: 2.8rem;
    letter-spacing: 6px;
    text-align: center;
    margin: 12px 0;
    padding: 18px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 15px;
    border: 2px solid var(--secondary);
    animation: emoji-bounce 2s ease infinite;
}

@keyframes emoji-bounce {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

/* ========================================
   CIPHER VAULT
   ======================================== */
.cipher-display {
    font-family: 'Press Start 2P', monospace;
    font-size: 1.2rem;
    letter-spacing: 3px;
    text-align: center;
    margin: 12px 0;
    padding: 18px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 10px;
    border: 2px solid var(--accent);
    color: var(--accent);
    text-shadow: 0 0 20px var(--accent);
    animation: cipher-glitch 3s infinite;
    word-break: break-all;
}

@keyframes cipher-glitch {
    0%, 95%, 100% { opacity: 1; transform: translateX(0); }
    96% { opacity: 0.8; transform: translateX(-3px); }
    97% { opacity: 0.9; transform: translateX(3px); }
    98% { opacity: 0.7; transform: translateX(-2px); }
    99% { opacity: 1; transform: translateX(1px); }
}

.cipher-method {
    font-size: 0.85rem;
    color: var(--warning);
    text-align: center;
    margin-top: 10px;
    font-style: italic;
}

/* ========================================
   SCRAMBLED WORD VAULT
   ======================================== */
.scrambled-display {
    font-family: 'Press Start 2P', monospace;
    font-size: clamp(1.2rem, 3vw, 1.8rem);
    letter-spacing: 8px;
    text-align: center;
    margin: 15px 0;
    padding: 20px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 10px;
    border: 2px solid var(--accent);
    color: var(--accent);
    text-shadow: 0 0 20px var(--accent);
    animation: scramble-shake 0.5s ease-in-out;
    word-break: break-all;
}

@keyframes scramble-shake {
    0%, 100% { transform: translateX(0); }
    10% { transform: translateX(-5px) rotate(-1deg); }
    20% { transform: translateX(5px) rotate(1deg); }
    30% { transform: translateX(-5px) rotate(-1deg); }
    40% { transform: translateX(5px) rotate(1deg); }
    50% { transform: translateX(-3px) rotate(0deg); }
    60% { transform: translateX(3px) rotate(0deg); }
    70% { transform: translateX(-2px); }
    80% { transform: translateX(2px); }
    90% { transform: translateX(-1px); }
}

.word-length {
    font-size: 0.85rem;
    color: var(--warning);
    text-align: center;
    margin-top: 10px;
    font-style: italic;
}

/* ========================================
   HINT SYSTEM
   ======================================== */
.hint-btn {
    margin-top: 15px;
    background: rgba(255, 170, 0, 0.2);
    border-color: var(--warning);
    color: var(--warning);
}

.hint-btn:hover {
    background: rgba(255, 170, 0, 0.3);
    box-shadow: 0 0 20px rgba(255, 170, 0, 0.4);
}

.hint-text {
    margin-top: 15px;
    padding: 15px 25px;
    background: rgba(255, 170, 0, 0.1);
    border: 1px solid var(--warning);
    border-radius: 10px;
    color: var(--warning);
    font-size: 0.95rem;
    text-align: center;
    animation: hint-appear 0.5s ease;
}

@keyframes hint-appear {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

.hint-text.hidden {
    display: none;
}

/* ========================================
   SUCCESS MESSAGE
   ======================================== */
.success-message {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1000;
    text-align: center;
    animation: success-appear 1.4s ease forwards;
}

@keyframes success-appear {
    0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
    20% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
    40% { transform: translate(-50%, -50%) scale(1); }
    100% { opacity: 0; transform: translate(-50%, -50%) scale(1.5); }
}

.success-icon {
    font-size: 5rem;
    color: var(--primary);
    text-shadow: 0 0 40px var(--primary);
    margin-bottom: 20px;
}

.success-text {
    font-size: 2rem;
    font-weight: 900;
    color: var(--light);
    text-shadow: 0 0 20px var(--primary);
}

.success-score {
    font-size: 1.5rem;
    color: var(--gold);
    margin-top: 10px;
}

/* ========================================
   GK VAULT - MULTIPLE CHOICE OPTIONS
   ======================================== */
.gk-options-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    max-width: 500px;
    margin: 0 auto;
}

.gk-option-btn {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 15px 20px;
    background: linear-gradient(135deg, rgba(30, 30, 50, 0.9), rgba(20, 20, 40, 0.9));
    border: 2px solid rgba(0, 255, 255, 0.3);
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: 'Orbitron', sans-serif;
    text-align: left;
}

.gk-option-btn:hover:not(:disabled) {
    border-color: var(--primary);
    background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(30, 30, 50, 0.9));
    transform: translateY(-2px);
    box-shadow: 0 5px 20px rgba(0, 255, 255, 0.3);
}

.gk-option-btn:active:not(:disabled) {
    transform: translateY(0);
}

.option-letter {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 35px;
    height: 35px;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    border-radius: 50%;
    font-size: 1rem;
    font-weight: 700;
    color: #0a0a0f;
    flex-shrink: 0;
}

.option-text {
    font-size: 0.9rem;
    color: #fff;
    letter-spacing: 1px;
    word-break: break-word;
}

/* Correct answer - Green */
.gk-option-btn.correct {
    border-color: #00ff88 !important;
    background: linear-gradient(135deg, rgba(0, 255, 136, 0.3), rgba(0, 200, 100, 0.2)) !important;
    box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
    animation: correctPulse 0.5s ease;
}

.gk-option-btn.correct .option-letter {
    background: linear-gradient(135deg, #00ff88, #00cc66);
}

.gk-option-btn.correct .option-text {
    color: #00ff88;
}

@keyframes correctPulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

/* Wrong answer - Red */
.gk-option-btn.wrong {
    border-color: #ff3366 !important;
    background: linear-gradient(135deg, rgba(255, 51, 102, 0.3), rgba(200, 0, 50, 0.2)) !important;
    box-shadow: 0 0 30px rgba(255, 51, 102, 0.5);
    animation: wrongShake 0.5s ease;
}

.gk-option-btn.wrong .option-letter {
    background: linear-gradient(135deg, #ff3366, #cc0044);
}

.gk-option-btn.wrong .option-text {
    color: #ff3366;
}

@keyframes wrongShake {
    0%, 100% { transform: translateX(0); }
    20% { transform: translateX(-10px); }
    40% { transform: translateX(10px); }
    60% { transform: translateX(-10px); }
    80% { transform: translateX(10px); }
}

/* Disabled state */
.gk-option-btn:disabled {
    opacity: 0.7;
    cursor: not-allowed;
}

/* Vault Failed Message */
.vault-failed-message {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(135deg, rgba(255, 51, 102, 0.9), rgba(200, 0, 50, 0.9));
    padding: 30px 50px;
    border-radius: 20px;
    text-align: center;
    z-index: 1000;
    animation: failedPopup 0.3s ease;
    box-shadow: 0 0 50px rgba(255, 51, 102, 0.5);
}

@keyframes failedPopup {
    from { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
    to { transform: translate(-50%, -50%) scale(1); opacity: 1; }
}

.failed-icon {
    font-size: 3rem;
    margin-bottom: 10px;
}

.failed-text {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.5rem;
    font-weight: 700;
    color: white;
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
}

.failed-score {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.8);
    margin-top: 10px;
}

/* Responsive for mobile */
@media (max-width: 500px) {
    .gk-options-container {
        grid-template-columns: 1fr;
    }
    
    .gk-option-btn {
        padding: 12px 15px;
    }
    
    .option-letter {
        width: 30px;
        height: 30px;
        font-size: 0.9rem;
    }
    
    .option-text {
        font-size: 0.85rem;
    }
}

/* ========================================
   KICKED BY ADMIN OVERLAY
   ======================================== */
.kicked-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(10, 10, 15, 0.95);
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.kicked-modal {
    background: linear-gradient(135deg, #1a1a2f, #0f0f1f);
    border: 3px solid var(--danger);
    border-radius: 20px;
    padding: 50px;
    text-align: center;
    max-width: 500px;
    width: 90%;
    box-shadow: 
        0 0 50px rgba(255, 51, 102, 0.5),
        inset 0 0 30px rgba(0, 0, 0, 0.5);
    animation: modalPop 0.4s ease;
}

@keyframes modalPop {
    from { transform: scale(0.8); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

.kicked-icon {
    font-size: 5rem;
    margin-bottom: 20px;
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

.kicked-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.8rem;
    color: var(--danger);
    text-shadow: 0 0 20px rgba(255, 51, 102, 0.8);
    margin-bottom: 15px;
}

.kicked-reason {
    font-size: 1rem;
    color: #aaa;
    margin-bottom: 30px;
    line-height: 1.6;
}

.kicked-btn {
    padding: 15px 40px;
    font-family: 'Orbitron', sans-serif;
    font-size: 1rem;
    font-weight: 700;
    background: linear-gradient(135deg, var(--danger), #cc0044);
    border: none;
    border-radius: 30px;
    color: white;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 2px;
    transition: all 0.3s ease;
    box-shadow: 0 0 20px rgba(255, 51, 102, 0.5);
}

.kicked-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 0 40px rgba(255, 51, 102, 0.8);
}

/* ========================================
   VAULT DOOR CLOSING ANIMATION
   ======================================== */
.vault-door.closing {
    transform: rotateY(0deg);
    transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* ========================================
   VAULT FAILED STATE
   ======================================== */
.vault-door.failed {
    border-color: var(--danger) !important;
    background: linear-gradient(135deg, #3a1a1a, #2a0a0a) !important;
    box-shadow: 
        0 0 50px rgba(255, 51, 102, 0.6),
        inset 0 0 30px rgba(255, 51, 102, 0.2);
    animation: vault-fail-pulse 0.5s ease;
}

.vault-door.failed .vault-number {
    color: var(--danger) !important;
    text-shadow: 0 0 20px var(--danger);
}

.vault-door.failed .lock-circle {
    border-color: var(--danger);
    box-shadow: 0 0 20px rgba(255, 51, 102, 0.5);
}

@keyframes vault-fail-pulse {
    0%, 100% { box-shadow: 0 0 50px rgba(255, 51, 102, 0.6); }
    50% { box-shadow: 0 0 80px rgba(255, 51, 102, 0.9); }
}

/* ========================================
   VAULT SUCCESS STATE (Enhanced)
   ======================================== */
.vault-door.success {
    border-color: #00ff88 !important;
    background: linear-gradient(135deg, #1a3a2a, #0a2a1a) !important;
    box-shadow: 
        0 0 50px rgba(0, 255, 136, 0.6),
        inset 0 0 30px rgba(0, 255, 136, 0.2);
    animation: vault-success-pulse 0.5s ease;
    transform: rotateY(0deg);
    pointer-events: none;
}

.vault-door.success .vault-number {
    color: #00ff88 !important;
    text-shadow: 0 0 20px #00ff88;
    animation: success-text-pulse 0.5s ease infinite alternate;
}

.vault-door.success .lock-circle {
    border-color: #00ff88;
    box-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
}

@keyframes vault-success-pulse {
    0%, 100% { box-shadow: 0 0 50px rgba(0, 255, 136, 0.6); }
    50% { box-shadow: 0 0 80px rgba(0, 255, 136, 0.9); }
}

@keyframes success-text-pulse {
    from { text-shadow: 0 0 10px #00ff88; }
    to { text-shadow: 0 0 30px #00ff88, 0 0 50px #00ff88; }
}

/* ========================================
   VAULT RESULT OVERLAY
   ======================================== */
.vault-result-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    animation: overlay-fade-in 0.3s ease;
}

.vault-result-overlay.success {
    background: radial-gradient(ellipse at center, rgba(0, 255, 136, 0.15) 0%, rgba(0, 0, 0, 0.85) 70%);
}

.vault-result-overlay.failed {
    background: radial-gradient(ellipse at center, rgba(255, 51, 102, 0.15) 0%, rgba(0, 0, 0, 0.85) 70%);
}

@keyframes overlay-fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
}

.result-modal {
    text-align: center;
    padding: 40px 60px;
    border-radius: 25px;
    animation: modal-pop-in 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.vault-result-overlay.success .result-modal {
    background: linear-gradient(135deg, rgba(0, 40, 25, 0.95), rgba(0, 20, 10, 0.98));
    border: 3px solid #00ff88;
    box-shadow: 
        0 0 60px rgba(0, 255, 136, 0.4),
        inset 0 0 40px rgba(0, 255, 136, 0.1);
}

.vault-result-overlay.failed .result-modal {
    background: linear-gradient(135deg, rgba(40, 15, 20, 0.95), rgba(20, 5, 10, 0.98));
    border: 3px solid var(--danger);
    box-shadow: 
        0 0 60px rgba(255, 51, 102, 0.4),
        inset 0 0 40px rgba(255, 51, 102, 0.1);
}

@keyframes modal-pop-in {
    from { 
        transform: scale(0.5);
        opacity: 0;
    }
    to { 
        transform: scale(1);
        opacity: 1;
    }
}

.result-icon {
    font-size: 4rem;
    margin-bottom: 15px;
    animation: icon-bounce 0.5s ease;
}

@keyframes icon-bounce {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
}

.result-title {
    font-family: 'Press Start 2P', cursive;
    font-size: 1.5rem;
    margin-bottom: 20px;
    letter-spacing: 2px;
}

.vault-result-overlay.success .result-title {
    color: #00ff88;
    text-shadow: 0 0 20px rgba(0, 255, 136, 0.8);
}

.vault-result-overlay.failed .result-title {
    color: var(--danger);
    text-shadow: 0 0 20px rgba(255, 51, 102, 0.8);
}

.correct-answer-box {
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-radius: 15px;
    padding: 15px 25px;
    margin: 15px 0;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.correct-answer-box.success {
    border-color: rgba(0, 255, 136, 0.4);
    background: rgba(0, 255, 136, 0.1);
}

.answer-label {
    font-size: 0.8rem;
    color: var(--accent);
    letter-spacing: 2px;
    text-transform: uppercase;
}

.answer-value {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.3rem;
    font-weight: 700;
    color: var(--light);
    text-transform: capitalize;
}

.result-score {
    font-family: 'Press Start 2P', cursive;
    font-size: 1.2rem;
    color: var(--gold);
    text-shadow: 0 0 15px var(--gold);
    margin-top: 10px;
    animation: score-glow 0.5s ease infinite alternate;
}

@keyframes score-glow {
    from { text-shadow: 0 0 10px var(--gold); }
    to { text-shadow: 0 0 25px var(--gold), 0 0 40px var(--gold); }
}

.result-subtitle {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.6);
    margin-top: 15px;
    letter-spacing: 1px;
}

/* Mobile adjustments for result overlay */
@media (max-width: 479px) {
    .result-modal {
        padding: 25px 35px;
        margin: 15px;
        border-radius: 20px;
    }
    
    .result-icon {
        font-size: 3rem;
    }
    
    .result-title {
        font-size: 1rem;
    }
    
    .correct-answer-box {
        padding: 12px 18px;
    }
    
    .answer-value {
        font-size: 1.1rem;
    }
    
    .result-score {
        font-size: 1rem;
    }
}

/* ========================================
   WRONG ANSWER INPUT
   ======================================== */
.cyber-input.wrong {
    border-color: var(--danger) !important;
    animation: wrong-shake 0.5s ease;
    box-shadow: 0 0 20px rgba(255, 51, 102, 0.4);
}

@keyframes wrong-shake {
    0%, 100% { transform: translateX(0); }
    20%, 60% { transform: translateX(-8px); }
    40%, 80% { transform: translateX(8px); }
}

/* ========================================
   MOBILE ADJUSTMENTS FOR VAULT TYPES
   ======================================== */
@media (max-width: 480px) {
    /* Vault Content - Full height for mobile */
    .vault-content {
        padding: 8px;
        gap: 5px;
        overflow: visible;
        justify-content: center;
    }
    
    .question-container {
        max-height: none;
        overflow: visible;
        flex-shrink: 0;
    }
    
    .answer-section {
        flex-shrink: 0;
        margin-top: 5px;
    }
    
    /* Diamond Mine - Curved blocks with small gaps */
    .diamond-mine-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 5px;
        padding: 6px;
        margin: 5px auto;
        width: 60vw;
        height: 60vw;
        max-width: 230px;
        max-height: 230px;
    }
    
    .mine-cell {
        width: 100%;
        height: 100%;
        max-width: none;
        max-height: none;
        border-radius: 10px;
    }
    
    .mine-cell .cell-content {
        font-size: 1.4rem;
    }
    
    .mine-status {
        padding: 5px 10px;
        gap: 5px;
        font-size: 0.7rem;
        margin-bottom: 3px;
    }
    
    .hearts-label {
        font-size: 0.55rem;
    }
    
    .hearts-count {
        font-size: 0.75rem;
    }
    
    .emoji-display {
        font-size: 2.5rem;
        letter-spacing: 5px;
        padding: 15px;
    }
    
    .cipher-display {
        font-size: 1rem;
        letter-spacing: 2px;
        padding: 15px;
    }
    
    .question-text {
        font-size: 0.95rem;
    }
    
    .vault-type-label {
        font-size: 0.7rem;
        padding: 5px 12px;
    }
    
    .game-top-bar {
        flex-direction: column;
        gap: 15px;
        padding: 10px 15px;
    }
    
    .game-top-bar .vault-progress {
        width: 100%;
    }
    
    .game-main-layout {
        flex-direction: column;
        gap: 20px;
        padding: 10px;
    }
    
    .vault-container {
        width: 85vw !important;
        height: 85vw !important;
        max-width: 500px !important;
        max-height: 500px !important;
    }
    
    .timer-sidebar-right {
        order: -1;
        width: 100%;
    }
    
    .timer-square {
        width: 85vw;
        max-width: 300px;
        height: auto;
        min-height: 200px;
        padding: 20px;
    }
    
    .timer-display {
        font-size: 2.2rem;
    }
    
    .timer-label-top {
        font-size: 1rem;
    }
    
    .timer-label-bottom {
        font-size: 0.75rem;
    }
}

/* Extra small screens */
@media (max-width: 360px) {
    .vault-content {
        padding: 6px;
        gap: 3px;
        justify-content: center;
        overflow: visible;
    }
    
    .diamond-mine-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 4px;
        padding: 5px;
        width: 55vw;
        height: 55vw;
        max-width: 190px;
        max-height: 190px;
    }
    
    .mine-cell {
        width: 100%;
        height: 100%;
        max-width: none;
        max-height: none;
        border-radius: 8px;
    }
    
    .mine-cell .cell-content {
        font-size: 1.1rem;
    }
    
    .mine-status {
        padding: 4px 8px;
        font-size: 0.6rem;
    }
    
    .vault-type-label {
        font-size: 0.6rem;
        padding: 4px 8px;
    }
    
    .button-row {
        margin-top: 5px;
    }
    
    .cyber-btn {
        padding: 8px 15px;
        font-size: 0.7rem;
    }
}

/* ========================================
   BUTTON ROW & SKIP BUTTON
   ======================================== */
.button-row {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin-top: 15px;
    flex-wrap: wrap;
}

.skip-btn {
    background: rgba(255, 170, 0, 0.2);
    border-color: var(--warning);
    color: var(--warning);
}

.skip-btn:hover {
    background: rgba(255, 170, 0, 0.3);
    box-shadow: 0 0 20px rgba(255, 170, 0, 0.4);
    transform: scale(1.05);
}

.vault-door.skipped {
    border-color: var(--warning) !important;
    box-shadow: 0 0 40px rgba(255, 170, 0, 0.5);
}

/* ========================================
   SKIP MESSAGE
   ======================================== */
.skip-message {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1000;
    text-align: center;
    animation: skip-appear 0.9s ease forwards;
}

@keyframes skip-appear {
    0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
    20% { opacity: 1; transform: translate(-50%, -50%) scale(1.1); }
    40% { transform: translate(-50%, -50%) scale(1); }
    100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
}

.skip-icon {
    font-size: 4rem;
    margin-bottom: 15px;
}

.skip-text {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--warning);
    text-shadow: 0 0 20px var(--warning);
}

.skip-score {
    font-size: 1.2rem;
    color: #888;
    margin-top: 10px;
}

/* ========================================
   BOMB MESSAGE
   ======================================== */
.bomb-message {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1000;
    text-align: center;
    animation: bomb-appear 1.1s ease forwards;
}

@keyframes bomb-appear {
    0% { opacity: 0; transform: translate(-50%, -50%) scale(0.3); }
    15% { opacity: 1; transform: translate(-50%, -50%) scale(1.3); }
    30% { transform: translate(-50%, -50%) scale(1); }
    100% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
}

.bomb-icon {
    font-size: 5rem;
    margin-bottom: 15px;
    animation: bomb-shake 0.3s ease infinite;
}

@keyframes bomb-shake {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-10deg); }
    75% { transform: rotate(10deg); }
}

.bomb-text {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--danger);
    text-shadow: 0 0 20px var(--danger);
}

.bomb-score {
    font-size: 1rem;
    color: #888;
    margin-top: 10px;
}

/* ========================================
   INPUT STYLING
   ======================================== */
.cyber-input {
    width: 100%;
    max-width: 350px;
    padding: 15px 20px;
    font-family: 'Orbitron', sans-serif;
    font-size: 1rem;
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid var(--primary);
    border-radius: 8px;
    color: var(--light);
    outline: none;
    transition: all 0.3s ease;
}

.cyber-input:focus {
    border-color: var(--accent);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
}

.cyber-input::placeholder {
    color: #666;
}

/* ========================================
   RESPONSIVE MEDIA QUERIES
   ======================================== */

/* Desktop Large - 1440px+ */
@media (min-width: 1440px) {
    .screen-container {
        max-width: 1200px;
    }
    
    .game-container {
        max-width: 1000px;
    }
    
    .vault-container {
        width: 550px;
        height: 550px;
    }
    
    .timer-box {
        min-width: 180px;
        padding: 20px 30px;
    }
    
    .vault-journey-bar .vault-indicator {
        min-width: 90px;
        padding: 15px;
    }
    
    .glitch-text {
        font-size: clamp(3rem, 5vw, 5rem);
    }
    
    .subtitle {
        font-size: clamp(1rem, 1.5vw, 1.4rem);
    }
    
    .cyber-btn {
        padding: 20px 50px;
        font-size: clamp(1rem, 1.2vw, 1.2rem);
    }
}

/* Laptop - 1024px to 1439px */
@media (min-width: 1024px) and (max-width: 1439px) {
    .screen-container {
        max-width: 950px;
        width: 95%;
    }
    
    .game-container {
        max-width: 800px;
        width: 95%;
    }
    
    .game-wrapper {
        padding-right: clamp(180px, 18vw, 200px);
    }
    
    .vault-container {
        width: 450px;
        height: 450px;
    }
    
    .right-panel {
        top: 15px;
        right: 15px;
        gap: 12px;
    }
    
    .timer-box,
    .score-box {
        min-width: 150px;
        padding: 15px 20px;
    }
    
    .vault-journey-bar .vault-indicator {
        min-width: 80px;
    }
    
    .glitch-text {
        font-size: clamp(2.5rem, 4vw, 4rem);
    }
    
    .subtitle {
        font-size: clamp(0.9rem, 1.3vw, 1.2rem);
    }
}

/* Tablet - 768px to 1023px */
@media (min-width: 768px) and (max-width: 1023px) {
    .screen-wrapper {
        padding: clamp(16px, 3vw, 24px);
    }
    
    .screen-container {
        max-width: 90%;
        width: 90%;
    }
    
    .game-wrapper {
        padding: clamp(12px, 2vw, 20px);
        padding-top: 20px;
        padding-right: clamp(160px, 18vw, 180px);
    }
    
    .game-container {
        max-width: 90%;
        width: 90%;
    }
    
    .vault-container {
        width: 380px;
        height: 380px;
    }
    
    .right-panel {
        top: 12px;
        right: 12px;
        gap: 10px;
    }
    
    .timer-box,
    .score-box {
        min-width: 130px;
        padding: 12px 16px;
    }
    
    .timer-box .timer-display {
        font-size: 1.4rem;
    }
    
    .score-box .score-display {
        font-size: 1.2rem;
    }
    
    .vault-journey-bar {
        padding: 12px 20px;
    }
    
    .vault-journey-bar .vault-indicator {
        min-width: 65px;
        padding: 10px;
    }
    
    .vault-journey-bar .vault-icon {
        font-size: 1.3rem;
    }
    
    .vault-journey-bar .progress-line {
        width: 25px;
    }
    
    .glitch-text {
        font-size: clamp(2rem, 5vw, 3rem);
    }
    
    .subtitle {
        font-size: clamp(0.85rem, 1.5vw, 1.1rem);
    }
    
    .rules-box {
        padding: 20px;
    }
    
    .cyber-btn {
        padding: 16px 40px;
        font-size: 1rem;
    }
}

/* Mobile - 480px to 767px */
@media (min-width: 480px) and (max-width: 767px) {
    .screen-wrapper {
        padding: 16px;
        min-height: 100vh;
        align-items: flex-start;
        padding-top: 20px;
    }
    
    .screen-container {
        width: 100%;
        max-width: 100%;
        padding: 16px;
    }
    
    /* Hide fixed right panel on tablets */
    .right-panel {
        display: none !important;
    }
    
    /* Game wrapper - full width */
    .game-wrapper {
        padding: 12px;
        min-height: 100vh;
        min-height: 100dvh;
        align-items: flex-start;
        padding-top: 12px;
        padding-right: 12px !important;
        overflow: hidden;
    }
    
    .game-container {
        width: 100%;
        height: calc(100vh - 24px);
        height: calc(100dvh - 24px);
        gap: 10px;
        display: flex;
        flex-direction: column;
        align-items: center;
        overflow: hidden;
    }
    
    /* 5 Vaults in a row at top */
    .vault-journey-bar {
        display: flex !important;
        justify-content: center;
        align-items: center;
        width: 100%;
        padding: 10px 15px;
        gap: 8px;
        border-radius: 12px;
        flex-wrap: nowrap;
        order: 1;
        flex-shrink: 0;
    }
    
    .vault-journey-bar .vault-indicator {
        min-width: 55px;
        padding: 8px;
    }
    
    .vault-journey-bar .vault-icon {
        font-size: 1.2rem;
    }
    
    .vault-journey-bar .vault-indicator span {
        font-size: 0.4rem;
    }
    
    .vault-journey-bar .progress-line {
        width: 15px;
    }
    
    /* Timer & Score - Right aligned, horizontal row */
    .mobile-stats-panel {
        display: flex !important;
        flex-direction: row;
        justify-content: flex-end;
        align-items: center;
        gap: 10px;
        width: 100%;
        order: 2;
        flex-shrink: 0;
    }
    
    .mobile-timer-box,
    .mobile-score-box {
        background: rgba(0, 0, 0, 0.95);
        border: 2px solid var(--primary);
        border-radius: 10px;
        padding: 8px 15px;
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 10px;
    }
    
    .mobile-score-box {
        border-color: var(--gold);
    }
    
    .mobile-timer-box .timer-label,
    .mobile-score-box .score-label {
        display: none;
    }
    
    .mobile-timer-box .timer-value {
        font-size: 1rem;
        font-weight: 900;
        color: var(--primary);
        font-family: 'Press Start 2P', cursive;
    }
    
    .mobile-timer-box .timer-value.warning {
        color: var(--warning);
    }
    
    .mobile-timer-box .timer-value.danger {
        color: var(--danger);
    }
    
    .mobile-score-box .player-name {
        font-size: 0.65rem;
        color: var(--light);
    }
    
    .mobile-score-box .score-value {
        font-size: 0.95rem;
        font-weight: 900;
        color: var(--gold);
        font-family: 'Press Start 2P', cursive;
    }
    
    /* Vault center area */
    .vault-center-area {
        width: 100%;
        padding: 0;
        order: 3;
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 0;
        overflow: hidden;
    }
    
    .vault-container {
        width: min(calc(100vw - 30px), calc(100vh - 200px), 400px) !important;
        height: min(calc(100vw - 30px), calc(100vh - 200px), 400px) !important;
        max-width: 400px !important;
        max-height: 400px !important;
        margin: 0 auto;
    }
    
    .vault-content {
        padding: 15px;
        gap: 8px !important;
        overflow: visible !important;
        justify-content: center;
    }
    
    .question-container {
        max-height: none !important;
        overflow: visible !important;
        flex-shrink: 0;
    }
    
    .question-text {
        font-size: 0.9rem !important;
    }
    
    .gk-options-container {
        grid-template-columns: 1fr 1fr !important;
        gap: 8px !important;
    }
    
    .gk-option-btn {
        padding: 10px 12px !important;
        font-size: 0.75rem !important;
    }

    .glitch-text {
        font-size: clamp(1.5rem, 7vw, 2.5rem);
    }
    
    .subtitle {
        font-size: clamp(0.75rem, 2.5vw, 1rem);
        letter-spacing: 2px;
    }
    
    .start-content {
        width: 100%;
        gap: 20px;
    }
    
    .rules-box {
        padding: 16px;
    }
    
    .rules-box h3 {
        font-size: 0.85rem;
    }
    
    .rules-box li {
        font-size: 0.75rem;
        padding: 6px 0;
    }
    
    .cyber-btn {
        padding: 14px 30px;
        font-size: 0.9rem;
        width: 100%;
        max-width: 300px;
    }
}

/* Mobile Small - under 480px */
@media (max-width: 479px) {
    .screen-wrapper {
        padding: 5px;
        min-height: 100vh;
        min-height: 100dvh;
        align-items: flex-start;
        padding-top: 5px;
    }
    
    .screen-container {
        width: 100%;
        max-width: 100%;
        padding: 8px;
    }
    
    /* Hide fixed right panel on mobile */
    .right-panel {
        display: none !important;
    }
    
    /* Game wrapper - full width */
    .game-wrapper {
        padding: 5px;
        min-height: 100vh;
        min-height: 100dvh;
        align-items: flex-start;
        padding-top: 5px;
        padding-right: 5px !important;
        overflow: hidden;
    }
    
    .game-container {
        width: 100%;
        height: calc(100vh - 10px);
        height: calc(100dvh - 10px);
        gap: 6px;
        display: flex;
        flex-direction: column;
        align-items: center;
        overflow: hidden;
    }
    
    /* ===== ROW 1: 5 Vaults in a line at top ===== */
    .vault-journey-bar {
        display: flex !important;
        justify-content: center;
        align-items: center;
        width: 100%;
        padding: 5px 6px;
        gap: 2px;
        border-radius: 8px;
        flex-wrap: nowrap;
        order: 1;
        flex-shrink: 0;
    }
    
    .vault-journey-bar .vault-indicator {
        min-width: unset;
        width: calc(18% - 4px);
        max-width: 48px;
        padding: 4px 2px;
        flex-shrink: 1;
    }
    
    .vault-journey-bar .vault-icon {
        font-size: 0.9rem;
        margin-bottom: 1px;
    }
    
    .vault-journey-bar .vault-indicator span {
        font-size: 0.28rem;
        letter-spacing: 0;
    }
    
    .vault-journey-bar .progress-line {
        width: 5px;
        height: 2px;
        flex-shrink: 0;
    }
    
    /* ===== ROW 2: Premium Timer & Score Panel ===== */
    .mobile-stats-panel {
        display: flex !important;
        flex-direction: column;
        align-items: flex-end;
        gap: 4px;
        width: 100%;
        order: 2;
        flex-shrink: 0;
        padding-right: 5px;
    }
    
    /* Premium Timer Box */
    .mobile-timer-box {
        background: linear-gradient(135deg, rgba(10, 10, 20, 0.98), rgba(20, 20, 40, 0.95));
        border: 2px solid var(--primary);
        border-radius: 12px;
        padding: 8px 16px;
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 10px;
        min-width: 130px;
        box-shadow: 
            0 0 15px rgba(28, 70, 255, 0.4),
            inset 0 1px 0 rgba(255, 255, 255, 0.1),
            inset 0 0 20px rgba(28, 70, 255, 0.1);
        position: relative;
        overflow: hidden;
    }
    
    .mobile-timer-box::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg, transparent, var(--primary), transparent);
    }
    
    .mobile-timer-box .timer-label {
        font-size: 0.6rem;
        color: var(--accent);
        letter-spacing: 1px;
        font-weight: 600;
        display: block;
    }
    
    .mobile-timer-box .timer-value {
        font-size: 1rem;
        font-weight: 900;
        color: var(--primary);
        font-family: 'Press Start 2P', cursive;
        text-shadow: 0 0 10px var(--primary);
    }
    
    .mobile-timer-box .timer-value.warning {
        color: var(--warning);
        text-shadow: 0 0 10px var(--warning);
    }
    
    .mobile-timer-box .timer-value.danger {
        color: var(--danger);
        text-shadow: 0 0 10px var(--danger);
        animation: timer-danger 0.25s infinite;
    }
    
    /* Premium Score Box */
    .mobile-score-box {
        background: linear-gradient(135deg, rgba(10, 10, 20, 0.98), rgba(30, 25, 10, 0.95));
        border: 2px solid var(--gold);
        border-radius: 12px;
        padding: 8px 16px;
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 10px;
        min-width: 130px;
        box-shadow: 
            0 0 15px rgba(255, 215, 0, 0.3),
            inset 0 1px 0 rgba(255, 255, 255, 0.1),
            inset 0 0 20px rgba(255, 215, 0, 0.1);
        position: relative;
        overflow: hidden;
    }
    
    .mobile-score-box::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg, transparent, var(--gold), transparent);
    }
    
    .mobile-score-box .score-label {
        display: none;
    }
    
    .mobile-score-box .player-name {
        font-size: 0.55rem;
        color: var(--light);
        max-width: 50px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        letter-spacing: 1px;
    }
    
    .mobile-score-box .score-value {
        font-size: 0.9rem;
        font-weight: 900;
        color: var(--gold);
        font-family: 'Press Start 2P', cursive;
        text-shadow: 0 0 10px var(--gold);
    }
    
    /* ===== ROW 3: Vault - Taller Rectangle ===== */
    .vault-center-area {
        width: 100%;
        padding: 0;
        order: 3;
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 0;
        overflow: hidden;
    }
    
    /* Taller vault to fit content */
    .vault-container {
        width: calc(100vw - 16px) !important;
        height: calc(100vh - 170px) !important;
        height: calc(100dvh - 170px) !important;
        max-width: 400px !important;
        max-height: 480px !important;
        min-height: 320px !important;
        margin: 0 auto;
        flex-shrink: 1;
        border-radius: 20px !important;
    }
    
    .vault-door {
        border-radius: 20px !important;
    }
    
    /* Vault content - properly spaced */
    .vault-content {
        padding: 12px 10px;
        gap: 8px !important;
        overflow: visible !important;
        border-radius: 20px !important;
        justify-content: center;
    }
    
    .vault-number {
        font-size: 0.75rem;
        top: 8px;
    }
    
    .vault-lock {
        width: 70px;
        height: 70px;
    }
    
    .lock-dial {
        height: 22px;
    }
    
    /* Question container - allow content to show */
    .question-container {
        max-height: none !important;
        overflow: visible !important;
        gap: 6px;
        flex-shrink: 0;
    }
    
    .question-text {
        font-size: 0.85rem !important;
        line-height: 1.3 !important;
        margin: 0 !important;
    }
    
    .emoji-movie-display {
        font-size: 2rem !important;
        margin: 8px 0 !important;
    }
    
    .scrambled-word {
        font-size: 1.4rem !important;
        letter-spacing: 3px !important;
        margin: 8px 0 !important;
    }
    
    /* Answer section - compact */
    .answer-section {
        gap: 8px !important;
        padding: 0 !important;
    }
    
    .cyber-input {
        width: 100%;
        max-width: 100%;
        font-size: 0.95rem !important;
        padding: 12px 14px !important;
        height: auto !important;
    }
    
    .submit-btn,
    .answer-section .cyber-btn {
        width: 100%;
        max-width: 100%;
        padding: 10px 15px !important;
        font-size: 0.75rem !important;
    }
    
    /* GK Options for mobile - single column */
    .gk-options-container {
        grid-template-columns: 1fr 1fr !important;
        gap: 6px !important;
        width: 100%;
    }
    
    .gk-option-btn {
        padding: 8px 10px !important;
        font-size: 0.65rem !important;
        min-height: unset !important;
    }
    
    /* Hint button - compact */
    .hint-btn {
        width: 100%;
        font-size: 0.65rem !important;
        padding: 8px !important;
        margin-top: 5px !important;
    }
    
    .hint-text {
        font-size: 0.7rem !important;
        padding: 6px !important;
        margin: 5px 0 !important;
    }
    
    /* Skip button */
    .skip-btn {
        padding: 8px 12px !important;
        font-size: 0.65rem !important;
    }

    .glitch-text {
        font-size: clamp(1.2rem, 8vw, 2rem);
        margin-bottom: 3px;
    }
    
    .subtitle {
        font-size: clamp(0.65rem, 3vw, 0.9rem);
        letter-spacing: 1px;
        margin-top: 15px;
    }
    
    .player-stats-banner {
        flex-direction: column;
        gap: 12px;
        width: 100%;
    }
    
    .stat-box {
        width: 100%;
        padding: 12px;
        min-width: unset;
        flex-direction: row;
        justify-content: center;
        gap: 15px;
    }
    
    .stat-box .stat-icon {
        font-size: 1.2rem;
    }
    
    .stat-box .stat-num {
        font-size: 1.3rem;
    }
    
    .stat-box .stat-text {
        font-size: 0.5rem;
    }
    
    .start-content {
        width: 100%;
        gap: 18px;
    }
    
    .player-input-container label {
        font-size: 0.7rem;
    }
    
    .player-input-container input {
        padding: 12px 16px;
        font-size: 1rem;
    }
    
    .rules-box {
        padding: 14px;
    }
    
    .rules-box h3 {
        font-size: 0.75rem;
        margin-bottom: 12px;
    }
    
    .rules-box li {
        font-size: 0.7rem;
        padding: 5px 0;
    }
    
    .cyber-btn {
        padding: 14px 25px;
        font-size: 0.85rem;
        width: 100%;
        max-width: 280px;
    }
    
    .leaderboard-preview {
        width: 100%;
        max-width: 100%;
        margin-top: 20px;
    }
    
    .leaderboard-preview h3 {
        font-size: 0.8rem;
    }
    
    #preview-leaderboard {
        padding: 12px;
    }
    
    .leaderboard-entry {
        padding: 8px;
        font-size: 0.75rem;
    }
    
    /* End Screen Mobile */
    .end-content {
        padding: 15px;
        width: 100%;
    }
    
    .end-title {
        font-size: clamp(1.2rem, 6vw, 2rem);
    }
    
    .final-stats {
        flex-direction: column;
        gap: 12px;
        width: 100%;
    }
    
    .stat-card {
        width: 100%;
        max-width: 100%;
        padding: 15px;
    }
    
    .stat-label {
        font-size: 0.65rem;
    }
    
    .stat-value {
        font-size: 1.3rem;
    }
    
    .final-leaderboard {
        width: 100%;
    }
    
    .final-leaderboard h2 {
        font-size: 0.85rem;
    }
}

/* Landscape Mode Adjustments */
@media (max-height: 600px) and (orientation: landscape) {
    .screen-wrapper {
        min-height: 100vh;
        height: auto;
        align-items: center;
        padding: 20px;
    }
    
    .screen-container {
        padding: 15px;
    }
    
    .game-wrapper {
        height: auto;
        min-height: 100vh;
    }
    
    .game-container {
        height: auto;
    }
    
    .game-main-layout {
        flex-direction: row;
        gap: 20px;
    }
    
    .vault-container {
        width: 50vh !important;
        height: 50vh !important;
        max-width: 400px !important;
        max-height: 400px !important;
    }
    
    .timer-square {
        width: 30vh;
        height: 30vh;
        max-width: 200px;
        max-height: 200px;
    }
    
    .player-stats-banner {
        flex-direction: row;
    }
    
    .glitch-text {
        font-size: clamp(1.5rem, 5vw, 2.5rem);
    }
}
